{% extends "base.html" %}
{% from "macros/utility.html" import renderArticle %}
{% from "macros/utility.html" import renderPagination, renderFlashedMessages %}

{% block css %}
{{ super() }}
<link href="{{ url_for('static', filename='css/main/base.css') }}" rel="stylesheet"/>
{% endblock css %}

{% block title %}Blog-首页{% endblock title %}


{% block homeActived %}class="active"{% endblock homeActived %}


{% block content %}
    <div class="container">
        <div class="row">

            <div class="col-sm-9">

                {{ renderFlashedMessages('warning') }}

                {% if pagination and pagination.items %}

                {% for article in pagination.items %}
                {{ renderArticle(article) }}
                {% endfor %}

                <div id="pagination">
                    <center>
                        {{ renderPagination(pagination, 'main.index') }}
                    </center>
                </div>

                {% else %}

                <div id="no-article-info">
                    <h4>网站初上，暂时没有任何文章。。。</h4>
                </div>

                {% endif %}

            </div>

            <div id="extra-info" class="col-sm-3">
                {% if hotTagRecords %}

                <h5>热门主题：</h5>

                <ul class="list-group">
                    {% for tag, count in hotTagRecords %}
                    <li class="list-group-item">
                        <span class="badge">{{ count }}</span>{{ tag.name }}
                    </li>
                    {% endfor %}
                </ul>

                {% else %}

                <h5>暂时没有任何主题</h5>

                {% endif %}

            </div>

        </div>
    </div>
{% endblock content %}
